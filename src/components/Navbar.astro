---
// Componente de navegación
---

<header class="fixed top-0 left-0 w-full z-50 transition-all duration-300 py-3" id="navbar">
  <div class="container mx-auto px-4 md:px-8">
    <div class="flex items-center justify-between">
      <a href="#" class="flex items-center gap-3 group">
        <div class="bg-gradient-to-br from-blue-600 to-blue-800 p-2.5 rounded-xl shadow-lg transform transition-all duration-300 group-hover:rotate-6 group-hover:scale-110 border border-blue-500/30">
          <div class="relative flex items-center justify-center w-6 h-6">
            <span class="font-bold text-xl text-white absolute">J</span>
            <div class="absolute inset-0 border-t-2 border-r-2 border-white/20 rounded-tr-lg"></div>
          </div>
        </div>
        <div>
          <span class="text-2xl font-bold text-white">
            <span class="text-primary">Joan</span>López
          </span>
          <span class="hidden md:block text-xs text-gray-400 -mt-1">Desarrollador Software</span>
        </div>
      </a>
      
      <button id="menu-toggle" class="md:hidden text-white p-2 rounded-lg hover:bg-white/10 transition-colors" aria-label="Menu">
        <div class="relative w-6 h-5 flex flex-col justify-between">
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line1"></span>
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line2"></span>
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line3"></span>
        </div>
      </button>
      
      <!-- Navegación Desktop -->
      <nav class="hidden md:flex items-center space-x-4 lg:space-x-8">
        <div class="nav-links flex items-center gap-1 md:gap-4 lg:gap-8">
          <a href="#home" class="nav-link relative px-2 py-1.5 text-white hover:text-primary transition-colors duration-300" data-section="home">
            <span>Inicio</span>
          </a>
          <a href="#about" class="nav-link relative px-2 py-1.5 text-white hover:text-primary transition-colors duration-300" data-section="about">
            <span>Sobre mí</span>
          </a>
          <a href="#experience" class="nav-link relative px-2 py-1.5 text-white hover:text-primary transition-colors duration-300" data-section="experience">
            <span>Experiencia</span>
          </a>
          <a href="#projects" class="nav-link relative px-2 py-1.5 text-white hover:text-primary transition-colors duration-300" data-section="projects">
            <span>Proyectos</span>
          </a>
        </div>
        <a href="#contact" class="btn-contact relative overflow-hidden px-5 py-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-medium transition-all duration-300 shadow-lg hover:shadow-blue-500/30 border border-blue-600/50 ml-3">
          <span class="relative z-10">Contacto</span>
          <span class="absolute inset-0 bg-white/20 transform scale-x-0 origin-left transition-transform duration-500 group-hover:scale-x-100"></span>
        </a>
      </nav>
    </div>
    
    <!-- Mobile menu -->
    <div id="mobile-menu" class="md:hidden hidden pt-6 pb-4 px-3 bg-gradient-to-b from-secondary/95 via-secondary/95 to-secondary/90 backdrop-blur-lg rounded-xl mt-4 shadow-lg border border-white/5 transition-all duration-300 max-h-0 overflow-hidden">
      <nav class="flex flex-col space-y-2">
        <a href="#home" class="mobile-link flex items-center gap-3 p-3 rounded-lg text-white hover:bg-white/10 transition-colors" data-section="home">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          <span>Inicio</span>
        </a>
        <a href="#about" class="mobile-link flex items-center gap-3 p-3 rounded-lg text-white hover:bg-white/10 transition-colors" data-section="about">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          <span>Sobre mí</span>
        </a>
        <a href="#experience" class="mobile-link flex items-center gap-3 p-3 rounded-lg text-white hover:bg-white/10 transition-colors" data-section="experience">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <span>Experiencia</span>
        </a>
        <a href="#projects" class="mobile-link flex items-center gap-3 p-3 rounded-lg text-white hover:bg-white/10 transition-colors" data-section="projects">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
          </svg>
          <span>Proyectos</span>
        </a>
        <div class="pt-2 mt-2 border-t border-white/10">
          <a href="#contact" class="flex justify-center items-center gap-2 p-3 mt-2 rounded-lg bg-primary/20 hover:bg-primary/30 text-primary font-medium transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span>Contacto</span>
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  // Lógica para el menú móvil
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const navbar = document.getElementById('navbar');
  const line1 = document.getElementById('line1');
  const line2 = document.getElementById('line2');
  const line3 = document.getElementById('line3');
  let isOpen = false;
  
  if (menuToggle && mobileMenu) {
    menuToggle.addEventListener('click', () => {
      isOpen = !isOpen;
      mobileMenu.classList.toggle('hidden');
      
      // Animación del icono de hamburguesa
      if (isOpen) {
        line1?.classList.add('rotate-45', 'translate-y-2');
        line2?.classList.add('opacity-0');
        line3?.classList.add('-rotate-45', '-translate-y-2');
        mobileMenu.style.maxHeight = mobileMenu.scrollHeight + 'px'; 
      } else {
        line1?.classList.remove('rotate-45', 'translate-y-2');
        line2?.classList.remove('opacity-0');
        line3?.classList.remove('-rotate-45', '-translate-y-2');
        mobileMenu.style.maxHeight = '0';
      }
    });
  }
  
  // Cambiar estilo del navbar al hacer scroll y activar enlace actual
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      navbar?.classList.add('bg-secondary/80', 'backdrop-blur-lg', 'shadow-lg', 'py-2');
      navbar?.classList.remove('py-3');
    } else {
      navbar?.classList.remove('bg-secondary/80', 'backdrop-blur-lg', 'shadow-lg', 'py-2');
      navbar?.classList.add('py-3');
    }

    // Detectar sección activa
    const sections = ['home', 'about', 'experience', 'projects', 'contact'];
    let current = '';
    
    for (const section of sections) {
      const element = document.getElementById(section);
      if (element) {
        const rect = element.getBoundingClientRect();
        if (rect.top <= 150 && rect.bottom >= 150) {
          current = section;
          break;
        }
      }
    }
    
    // Actualizar enlaces activos
    document.querySelectorAll('.nav-link').forEach(link => {
      const linkSection = link.getAttribute('data-section');
      if (linkSection === current) {
        link.classList.add('active-link');
        link.classList.add('text-primary');
      } else {
        link.classList.remove('active-link');
        link.classList.remove('text-primary');
      }
    });
    
    document.querySelectorAll('.mobile-link').forEach(link => {
      const linkSection = link.getAttribute('data-section');
      if (linkSection === current) {
        link.classList.add('bg-white/10');
      } else {
        link.classList.remove('bg-white/10');
      }
    });
  });
</script>

<style>
  .active-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 2px;
    opacity: 1;
    transform: scaleX(1);
  }
  
  .nav-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 2px;
    opacity: 0;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  
  .nav-link:hover::after {
    opacity: 1;
    transform: scaleX(1);
  }
  
  .btn-contact:hover {
    transform: translateY(-2px);
  }
</style> 