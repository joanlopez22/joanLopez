---
// Componente de navegación
---

<header class="fixed top-0 left-0 w-full z-50 transition-all duration-500 py-3" id="navbar">
  <div class="container mx-auto px-4 md:px-8">
    <div class="flex flex-row items-center justify-between">
      <!-- Logo simplificado -->
      <div class="text-left py-2 flex items-center">
        <a href="#" class="flex items-center group">
          <div class="relative mr-2 w-10 h-10 flex items-center justify-center bg-blue-800/20 rounded-lg backdrop-blur-sm border border-blue-700/20">
            <!-- Letra J simple -->
            <span class="relative text-xl font-bold text-white">J</span>
          </div>
          <div class="flex flex-col">
            <span class="text-xl font-bold text-white">
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600">Joan</span>López
            </span>
            <span class="text-xs text-gray-400 tracking-wider">Software Developer</span>
          </div>
        </a>
      </div>
      
      <!-- Botón de menú móvil simplificado -->
      <button id="menu-toggle" class="md:hidden text-white p-2 rounded-lg hover:bg-white/10 transition-colors focus-ring" aria-label="Menu">
        <div class="relative w-6 h-5 flex flex-col justify-between">
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line1"></span>
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line2"></span>
          <span class="w-full h-0.5 bg-white rounded-full transform transition-all duration-300" id="line3"></span>
        </div>
      </button>
      
      <!-- Navegación Desktop Minimalista -->
      <nav class="hidden md:flex items-center">
        <div class="nav-links flex items-center gap-6 mx-auto">
          <a href="#home" class="nav-link relative px-2 py-1 text-white hover:text-blue-400 transition-colors duration-300" data-section="home">
            <span>Inicio</span>
          </a>
          <a href="#about" class="nav-link relative px-2 py-1 text-white hover:text-blue-400 transition-colors duration-300" data-section="about">
            <span>Sobre mí</span>
          </a>
          <a href="#experience" class="nav-link relative px-2 py-1 text-white hover:text-blue-400 transition-colors duration-300" data-section="experience">
            <span>Experiencia</span>
          </a>
          <a href="#projects" class="nav-link relative px-2 py-1 text-white hover:text-blue-400 transition-colors duration-300" data-section="projects">
            <span>Proyectos</span>
          </a>
          <a href="#contact" class="px-4 py-2 rounded-md bg-blue-700/20 hover:bg-blue-700/30 border border-blue-600/30 text-white transition-all duration-300">
            <span>Contacto</span>
          </a>
        </div>
      </nav>
    </div>
    
    <!-- Mobile menu simplificado -->
    <div id="mobile-menu" class="md:hidden hidden pt-4 pb-4 px-3 bg-secondary/95 backdrop-blur-lg rounded-md mt-4 shadow-lg border border-white/5 transition-all duration-300 max-h-0 overflow-hidden">
      <nav class="flex flex-col space-y-2">
        <a href="#home" class="mobile-link flex items-center gap-3 p-2 rounded-md text-white hover:bg-white/5 transition-colors" data-section="home">
          <span>Inicio</span>
        </a>
        <a href="#about" class="mobile-link flex items-center gap-3 p-2 rounded-md text-white hover:bg-white/5 transition-colors" data-section="about">
          <span>Sobre mí</span>
        </a>
        <a href="#experience" class="mobile-link flex items-center gap-3 p-2 rounded-md text-white hover:bg-white/5 transition-colors" data-section="experience">
          <span>Experiencia</span>
        </a>
        <a href="#projects" class="mobile-link flex items-center gap-3 p-2 rounded-md text-white hover:bg-white/5 transition-colors" data-section="projects">
          <span>Proyectos</span>
        </a>
        <div class="pt-2 mt-2 border-t border-white/5">
          <a href="#contact" class="flex justify-center items-center p-2 mt-2 rounded-md bg-blue-700/20 hover:bg-blue-700/30 border border-blue-600/30 text-white transition-all">
            <span>Contacto</span>
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  // Lógica para el menú móvil
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const navbar = document.getElementById('navbar');
  const line1 = document.getElementById('line1');
  const line2 = document.getElementById('line2');
  const line3 = document.getElementById('line3');
  let isOpen = false;
  
  if (menuToggle && mobileMenu) {
    menuToggle.addEventListener('click', () => {
      isOpen = !isOpen;
      mobileMenu.classList.toggle('hidden');
      
      // Animación del icono de hamburguesa
      if (isOpen) {
        line1?.classList.add('rotate-45', 'translate-y-2');
        line2?.classList.add('opacity-0');
        line3?.classList.add('-rotate-45', '-translate-y-2');
        mobileMenu.style.maxHeight = mobileMenu.scrollHeight + 'px'; 
      } else {
        line1?.classList.remove('rotate-45', 'translate-y-2');
        line2?.classList.remove('opacity-0');
        line3?.classList.remove('-rotate-45', '-translate-y-2');
        mobileMenu.style.maxHeight = '0';
      }
    });
  }
  
  // Cambiar estilo del navbar al hacer scroll y activar enlace actual
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      navbar?.classList.add('bg-secondary/80', 'backdrop-blur-lg', 'shadow-lg', 'py-2');
      navbar?.classList.remove('py-3');
    } else {
      navbar?.classList.remove('bg-secondary/80', 'backdrop-blur-lg', 'shadow-lg', 'py-2');
      navbar?.classList.add('py-3');
    }

    // Detectar sección activa
    const sections = ['home', 'about', 'experience', 'projects', 'contact'];
    let current = '';
    
    for (const section of sections) {
      const element = document.getElementById(section);
      if (element) {
        const rect = element.getBoundingClientRect();
        if (rect.top <= 150 && rect.bottom >= 150) {
          current = section;
          break;
        }
      }
    }
    
    // Actualizar enlaces activos
    document.querySelectorAll('.nav-link').forEach(link => {
      const linkSection = link.getAttribute('data-section');
      if (linkSection === current) {
        link.classList.add('active-link');
        link.classList.add('text-blue-400');
      } else {
        link.classList.remove('active-link');
        link.classList.remove('text-blue-400');
      }
    });
    
    document.querySelectorAll('.mobile-link').forEach(link => {
      const linkSection = link.getAttribute('data-section');
      if (linkSection === current) {
        link.classList.add('bg-white/5');
      } else {
        link.classList.remove('bg-white/5');
      }
    });
  });
</script>

<style>
  .active-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: #60a5fa;
    opacity: 1;
    transform: scaleX(1);
  }
  
  .nav-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: #60a5fa;
    opacity: 0;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  
  .nav-link:hover::after {
    opacity: 1;
    transform: scaleX(1);
  }
</style> 